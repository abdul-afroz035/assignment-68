import React from "react";
import { withFormik } from "formik";
import Input from "./Input";
import * as Yup from "yup";
import { Link } from "react-router";
import { CiShoppingCart } from "react-icons/ci";

function callSignupApi(values) {
    console.log("signupPage upi calling");
}
const schema = Yup.object().shape({
    fullName: Yup.string().required(),
    myEmail: Yup.string().email().required(),
    userName: Yup.string().required(),
    myPassword: Yup.string().min(8).max(12).required(),
    confermPass: Yup.string().min(8).max(12).required(),
});

const initialValues = {
    fullName: "",
    myEmail: "",
    userName: "",
    myPassword: "",
    confermPass: "",
};

export function SignupPage({ handleSubmit, errors, touched, values, handleChange, handleBlur }) {

    return (
        <div className=" flex flex-col h-full justify-center items-center bg-white max-w-6xl mx-auto my-16 py-6 px-6" >
            <div className="text-9xl text-gray-900 pb-4">
                <CiShoppingCart />
            </div>

            <form onSubmit={handleSubmit} className="flex flex-col justify-between w-90 px-6 py-2 rounded-md shadow-md bg-white space-y-3 ">
                <div className="text-2xl mb-8 text-primary-default font-serif font-bold">
                    DOWN-TOWN CityCart
                </div>
                <Input
                    values={values.fullName}
                    error={errors.fullName}
                    touched={touched.fullName}
                    onChange={handleChange}
                    onBlur={handleBlur}
                    label="enter fullName"
                    id="Full-Name"
                    name="fullName"
                    type="text"
                    required
                    autoComplete="user-FullName"
                    placeholder="FullName"
                />

                <Input
                    values={values.myEmail}
                    error={errors.myEmail}
                    touched={touched.myEmail}
                    onChange={handleChange}
                    onBlur={handleBlur}
                    label="enter email"
                    id="user-email"
                    name="myEmail"
                    type="email"
                    required
                    autoComplete="email-address"
                    placeholder="Email"
                />

                <Input
                    values={values.userName}
                    error={errors.userName}
                    touched={touched.userName}
                    onChange={handleChange}
                    onBlur={handleBlur}
                    label="enter username "
                    id="userName"
                    name="userName"
                    type="text"
                    required
                    autoComplete="userName"
                    placeholder="username or email"
                />

                <Input
                    values={values.myPassword}
                    error={errors.myPassword}
                    touched={touched.myPassword}
                    onChange={handleChange}
                    onBlur={handleBlur}
                    label="enter Password"
                    id="user-password"
                    name="myPassword"
                    type="password"
                    required
                    autoComplete="my-Password"
                    placeholder="enter Password"
                />

                <Input
                    values={values.confermPass}
                    error={errors.confermPass}
                    touched={touched.confermPass}
                    onChange={handleChange}
                    onBlur={handleBlur}
                    label="conferm Password"
                    id="cnfm-password"
                    name="confermPass"
                    type="password"
                    required
                    autoComplete="conferm-Password"
                    placeholder="conferm Password"
                />

                <div className="self-center space-x-2">
                    <button
                        type="button"
                        className="text-white bg-primary-default hover:bg-primary-dark px-2 py-0.5 rounded-sm self-end">
                        Reset
                    </button>
                    <button
                        type="submit"
                        className="text-white bg-primary-default hover:bg-primary-dark disabled:bg-primary-light px-2 py-0.5 rounded-sm ">
                        Signup
                    </button>
                </div>

                <div className="self-center text-sm mt-2 text-gray-400 "> Already have an account?
                    <Link to="/" className="text-primary-default"> Login </Link>
                </div>
            </form>
        </div>
    );


}

const myHOC = withFormik({
    validationSchema: schema,
    initialValues: initialValues,
    handleSubmit: callSignupApi
});
const easySignup = myHOC(SignupPage);

export default easySignup;
